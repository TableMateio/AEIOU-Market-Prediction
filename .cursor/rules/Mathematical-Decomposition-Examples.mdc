# Mathematical Decomposition Examples - Belief Factor System

## üéØ Purpose
This document provides concrete examples of how to break down complex news events into mathematical components that can be measured, tested, and combined for prediction.

---

## üìà Example 1: Earnings Beat Decomposition

### Raw News:
*"Apple reports Q3 EPS of $1.52, beating estimates of $1.42 by 7%. Revenue came in at $85.2B vs $84.1B expected. iPhone sales showed surprising strength in emerging markets."*

### Mathematical Breakdown:

**1. Core Event Metrics**
```typescript
const earningsEvent = {
  eps_surprise: 0.07,           // 7% beat
  revenue_surprise: 0.013,      // 1.3% beat  
  guidance_change: 0.0,         // No guidance mentioned
  geographic_variance: {
    emerging_markets: 0.15,     // 15% above expected
    developed_markets: -0.02    // 2% below expected
  }
};
```

**2. Business Logic Factors**
```typescript
const businessImplications = {
  profitability_signal: 0.8,    // Strong earnings execution
  growth_trajectory: 0.6,       // Moderate growth indication
  margin_efficiency: 0.7,       // Good cost management
  market_expansion: 0.9,        // Strong emerging market penetration
  competitive_position: 0.75    // Solid vs expectations
};
```

**3. Belief Formation Factors**
```typescript
const beliefDynamics = {
  surprise_magnitude: 0.07,     // 7% surprise factor
  credibility: 0.98,           // Official earnings report
  attention_drivers: {
    beat_magnitude: 0.7,        // Meaningful but not huge
    narrative_novelty: 0.8,     // Emerging markets story
    analyst_focus: 0.9          # High analyst attention
  },
  sentiment_indicators: {
    immediate_positivity: 0.75,
    sustainability_belief: 0.6,  // Questions about repeatability
    risk_perception: 0.25        // Low immediate risk
  }
};
```

**4. Market Psychology Factors**
```typescript
const psychologyFactors = {
  fear_factors: {
    earnings_recession_worry: 0.15,    // Low fear given beat
    competition_anxiety: 0.30,         // Moderate concern
    valuation_fear: 0.20              // Some overvaluation worry
  },
  confidence_factors: {
    execution_confidence: 0.85,        // Strong delivery
    strategy_belief: 0.70,            // Good geographic diversification
    management_trust: 0.80            // Consistent performance
  },
  uncertainty_elements: {
    forward_guidance_clarity: 0.20,    // No guidance provided
    macroeconomic_sensitivity: 0.60,   // Moderate macro exposure
    competitive_durability: 0.40      # Questions about sustainability
  }
};
```

---

## üè≠ Example 2: Product Launch Decomposition

### Raw News:
*"Apple unveils Vision Pro mixed reality headset at $3,499, available early 2024. Initial reviews praise innovation but question mass market appeal due to high price point."*

### Mathematical Breakdown:

**1. Product Event Metrics**
```typescript
const productLaunch = {
  price_vs_expectations: 1.75,        // 75% higher than expected
  innovation_score: 0.90,             // High innovation rating
  market_readiness: 0.30,             // Low initial market
  competitive_differentiation: 0.85,   // Strong vs competitors
  launch_timeline: 0.25               // 25% into fiscal year
};
```

**2. Business Model Impact**
```typescript
const revenueProjection = {
  immediate_revenue_impact: 0.05,     // 5% of total revenue potential
  margin_profile: 0.60,              // 60% gross margin estimate
  ecosystem_expansion: 0.40,          // 40% ecosystem lock-in boost
  r_and_d_payoff: 0.70,             // Strong R&D investment return
  market_creation_potential: 0.80    // High new market creation
};
```

**3. Risk Assessment Factors**
```typescript
const riskFactors = {
  adoption_risk: 0.70,               // High adoption uncertainty
  production_complexity: 0.60,       // Moderate manufacturing risk
  price_elasticity: 0.80,           # High price sensitivity
  market_timing: 0.40,              // Questions about timing
  cannialization_risk: 0.15         // Low impact on existing products
};
```

**4. Narrative Belief Factors**
```typescript
const narrativeDynamics = {
  innovation_story_strength: 0.90,   // Very strong innovation narrative
  accessibility_concerns: 0.75,      // High concern about price/adoption
  future_vision_appeal: 0.85,       // Strong "future of computing"
  skepticism_level: 0.50,           // Moderate skepticism
  hype_vs_substance: 0.70           // More substance than hype
};
```

---

## üîª Example 3: Crisis Event Decomposition

### Raw News:
*"Apple faces potential iPhone ban in China after government raises security concerns over encrypted messaging features. Chinese market represents 20% of Apple's revenue."*

### Mathematical Breakdown:

**1. Crisis Severity Metrics**
```typescript
const crisisEvent = {
  revenue_exposure: 0.20,            // 20% revenue at risk
  probability_of_ban: 0.30,         // 30% estimated probability
  resolution_timeline: 90,           // 90 days estimated
  escalation_potential: 0.70,       // High escalation risk
  precedent_severity: 0.85          // Strong precedent concern
};
```

**2. Financial Impact Modeling**
```typescript
const financialImpact = {
  immediate_revenue_risk: 0.20,      // 20% revenue exposure
  substitute_market_potential: 0.40, // 40% could shift to other regions
  margin_impact: 0.15,              // 15% margin hit from higher costs
  long_term_growth_impact: 0.25,    // 25% growth rate reduction
  recovery_probability: 0.60        // 60% chance of eventual resolution
};
```

**3. Geopolitical Risk Factors**
```typescript
const geopoliticalFactors = {
  trade_war_correlation: 0.80,      // High correlation with trade tensions
  tech_sovereignty_trend: 0.90,     // Strong tech nationalism trend
  diplomatic_resolution_odds: 0.40, // Moderate diplomatic solution chance
  precedent_risk: 0.75,            // High risk of similar actions
  supply_chain_vulnerability: 0.60  // Moderate supply chain risk
};
```

**4. Market Psychology Under Crisis**
```typescript
const crisisPsychology = {
  fear_amplification: 0.85,         // High fear multiplication
  uncertainty_tolerance: 0.20,      // Low uncertainty tolerance
  worst_case_bias: 0.75,           // Strong worst-case thinking
  flight_to_safety: 0.80,          // High safe haven seeking
  recovery_skepticism: 0.70,       // High skepticism about quick fixes
  media_attention_multiplier: 2.5   // 2.5x normal attention levels
};
```

---

## üßÆ Mathematical Combination Framework

### Belief Vector Composition
```typescript
interface ComprehensiveBeliefVector {
  // Core event factors (0-1 normalized)
  event_magnitude: number;
  surprise_factor: number;
  credibility_score: number;
  
  // Attention dynamics (0-1 normalized)
  immediate_attention: number;
  sustained_attention_probability: number;
  media_amplification: number;
  
  // Sentiment factors (-1 to 1)
  immediate_sentiment: number;
  forward_looking_sentiment: number;
  risk_adjusted_sentiment: number;
  
  // Business impact (probability distributions)
  short_term_impact_dist: number[];  // [probability, magnitude] pairs
  medium_term_impact_dist: number[];
  long_term_impact_dist: number[];
  
  // Psychological factors (0-1 normalized)
  fear_amplification: number;
  uncertainty_tolerance: number;
  confidence_level: number;
  
  // Derived metrics
  overall_belief_strength: number;
  market_reaction_probability: number;
  predicted_price_impact: number;
  confidence_interval: [number, number];
}
```

### Factor Weighting System
```typescript
const beliefWeights = {
  event_factors: {
    magnitude: 0.25,
    surprise: 0.30,
    credibility: 0.20
  },
  attention_factors: {
    immediate: 0.40,
    sustained: 0.35,
    amplification: 0.25
  },
  sentiment_factors: {
    immediate: 0.50,
    forward: 0.30,
    risk_adjusted: 0.20
  },
  psychological_factors: {
    fear: 0.40,
    uncertainty: 0.30,
    confidence: 0.30
  }
};
```

---

## üî¨ Validation Methodology

### Factor Accuracy Testing
```typescript
interface FactorValidation {
  factor_name: string;
  historical_accuracy: number;     // 0-1 correlation with actual outcomes
  prediction_stability: number;    // Consistency across similar events
  business_logic_coherence: number; // Makes sense to domain experts
  mathematical_properties: {
    bounded: boolean;              // Properly constrained values
    monotonic: boolean;            // Predictable directional relationships
    composable: boolean;           // Combines well with other factors
  };
}
```

This framework ensures every belief component can be:
1. **Measured** precisely from available data
2. **Combined** mathematically with other factors  
3. **Tested** against market outcomes
4. **Interpreted** by human analysts
5. **Improved** based on prediction accuracy